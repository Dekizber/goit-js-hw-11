{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function fetchImages(q) {\n    const params = new URLSearchParams({\n        key: '44997411-463a4997c6162e49e75a100fc',\n        q,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n\n\n    return fetch(`https://pixabay.com/api/?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        }).then(data => data.hits);\n}","const imageList = document.querySelector('.images-list');\nconst loaderEl = document.querySelector('.loader');\n\nexport const renderImages = (images) => {\n  const gallery = images.map(({\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads\n  }) => `<li class=\"images-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n          \n          <div class=\"property\">\n          <p><span class=\"weight\">Likes</span> ${likes}</p>\n          <p><span class=\"weight\">Views</span> ${views}</p>\n          <p><span class=\"weight\">Comments</span> ${comments}</p>\n          <p><span class=\"weight\">Downloads</span> ${downloads}</p>\n          </div>\n        </a>\n      </li>`).join('');\n\n  imageList.insertAdjacentHTML('beforeend', gallery);\n\n}\n\nexport const clearResult = () => imageList.innerHTML = '';\nexport const toggleLoader = (show = false) => {\n  if (show) return loaderEl.classList.add('loader-open');\n  loaderEl.classList.remove('loader-open');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport fetchImages from './js/pixabay-api';\nimport { clearResult, renderImages, toggleLoader } from \"./js/render-functions\";\n\n\nconst formEl = document.querySelector('#search_img');\nconst inputEl = document.querySelector('#search_img input');\n\nconst searchImg = () => {\n    const searchQuery = inputEl.value.trim();\n    fetchImages(searchQuery)\n        .then(images => {\n            console.log(images);\n            if (images.length === 0) {\n                toggleLoader();\n                iziToast.warning({\n                    title: 'Warning',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    color: 'red',\n                    position: 'bottomRight',\n                });\n                return;\n            }\n            toggleLoader();\n            renderImages(images);\n            new SimpleLightbox('.images-list a', {\n                captionsData: 'alt',\n                captionDelay: 250,\n            }).refresh(); formEl.reset();\n\n        }).catch(err => {\n            toggleLoader();\n            iziToast.error({\n                title: 'Error',\n                message: `Something went wrong: ${err.message}`,\n                color: 'red',\n                position: 'bottomRight',\n            });\n        });\n\n}\nconst onSubmit = (e) => {\n    e.preventDefault();\n    clearResult();\n    toggleLoader(true);\n    searchImg();\n}\nformEl.addEventListener('submit', onSubmit);\n\n\n\n\n\n"],"names":["fetchImages","q","params","response","data","imageList","loaderEl","renderImages","images","gallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearResult","toggleLoader","show","formEl","inputEl","searchImg","searchQuery","iziToast","SimpleLightbox","err","onSubmit","e"],"mappings":"6vBAAe,SAASA,EAAYC,EAAG,CACnC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAID,OAAO,MAAM,4BAA4BC,CAAM,EAAE,EAC5C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACnB,CAAA,EAAE,KAAKC,GAAQA,EAAK,IAAI,CACjC,CClBA,MAAMC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAW,SAAS,cAAc,SAAS,EAEpCC,EAAgBC,GAAW,CACtC,MAAMC,EAAUD,EAAO,IAAI,CAAC,CAC1B,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACJ,IAAQ;AAAA,wCACgCL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,iDAI0BC,CAAK;AAAA,iDACLC,CAAK;AAAA,oDACFC,CAAQ;AAAA,qDACPC,CAAS;AAAA;AAAA;AAAA,YAGlD,EAAE,KAAK,EAAE,EAEnBX,EAAU,mBAAmB,YAAaI,CAAO,CAEnD,EAEaQ,EAAc,IAAMZ,EAAU,UAAY,GAC1Ca,EAAe,CAACC,EAAO,KAAU,CAC5C,GAAIA,EAAM,OAAOb,EAAS,UAAU,IAAI,aAAa,EACrDA,EAAS,UAAU,OAAO,aAAa,CACzC,EC7BMc,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,mBAAmB,EAEpDC,EAAY,IAAM,CACpB,MAAMC,EAAcF,EAAQ,MAAM,KAAI,EACtCrB,EAAYuB,CAAW,EAClB,KAAKf,GAAU,CAEZ,GADA,QAAQ,IAAIA,CAAM,EACdA,EAAO,SAAW,EAAG,CACrBU,IACAM,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,2EACT,MAAO,MACP,SAAU,aAC9B,CAAiB,EACD,MACH,CACDN,IACAX,EAAaC,CAAM,EACnB,IAAIiB,EAAe,iBAAkB,CACjC,aAAc,MACd,aAAc,GACjB,CAAA,EAAE,QAAS,EAAEL,EAAO,MAAK,CAEtC,CAAS,EAAE,MAAMM,GAAO,CACZR,IACAM,EAAS,MAAM,CACX,MAAO,QACP,QAAS,yBAAyBE,EAAI,OAAO,GAC7C,MAAO,MACP,SAAU,aAC1B,CAAa,CACb,CAAS,CAET,EACMC,EAAYC,GAAM,CACpBA,EAAE,eAAc,EAChBX,IACAC,EAAa,EAAI,EACjBI,GACJ,EACAF,EAAO,iBAAiB,SAAUO,CAAQ"}